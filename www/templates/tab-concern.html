<style>
  .gz .col{padding: 0;background-color: #fff;}
  .gzContent .item-note{font-size: 1em;color:#444;position:absolute;margin-left:.6em;padding-left:.5em;border-left:1px solid #999;}
  .gzContent .jdr{margin-left:1.6em;}
  .gzContent .time {font-size: 1.6em;color:#f8b3a3;}
  .gzContent .msg {font-size: 1.6em;color:#6bd492;}
  .gzActive{border-bottom: 4px #f7dc69 solid;}
  .gzDeActive{border-bottom: 4px #f8f8f8 solid;}
  .gzContent .btn{border:1px solid #ccc; color:#777; border-radius: 0; margin:0;padding:.2em .5em;font-family:'华文细黑';font-size: .8em;}
  .gzContent .firstBtn{border-top-left-radius: .4em;border-bottom-left-radius: .4em;margin-right:-0.4em;}
  .gzContent .secondBtn{border-top-right-radius: .4em;border-bottom-right-radius: .4em;}
</style>
<ion-view hide-nav-bar="true">
  <div class="bar bar-header">
    <div class="h1 title" style="font-family: '华文细黑';color:#000;">关注</div>
  </div>

  <div class="tabs tabs-top tabs-default gz">
    <div class="col" ng-class="{true:'gzActive', false:'gzDeActive' }[active_content=='concern']">
      <a href class="tab-item disable-user-behavior" ng-class="{active: active_content=='concern'}" ng-click="toConcern('concern')">
        已关注
      </a>
    </div>
    <div class="col" ng-class="{true:'gzActive', false:'gzDeActive' }[active_content=='booked']">
      <a href class="tab-item disable-user-behavior"
         ng-class="{active: active_content=='booked'}" ng-click="setActiveContent('booked')">
        已预约
      </a>
    </div>
    <div class="col" ng-class="{true:'gzActive', false:'gzDeActive' }[active_content=='watched']">
      <a href class="tab-item disable-user-behavior"
         ng-class="{active: active_content=='watched'}" ng-click="toWatched('watched')">
        已带看
      </a>
    </div>
  </div>

  <!-- 已关注开始 -->
  <ion-content has-header="true" class="has-subheader gzContent" ng-show="active_content=='concern'" style="background-color: #f8f8f8;">
    <ion-list>
      <ion-checkbox ng-repeat="gzlp in bookLpArray" ng-model="gzlp.isChecked" ng-checked="gzlp.isChecked" ng-change="getPKLP(gzlp)">{{gzlp.house_name}}</ion-checkbox>
    </ion-list>

    <div style="position: relative;padding: 1em 0;">
      <button class="button button-energized" ng-disabled="!pkBtn" style="position:absolute;top:1em;right:1em;margin-bottom: 1em; font-weight:700;font-size:2em;letter-spacing: .1em;" ng-click="pk()">PK</button>
    </div>
  </ion-content>
  <!-- 已关注结束 -->



  <!-- 已预约开始 -->
  <ion-content has-header="true" class="has-subheader gzContent"  ng-show="active_content=='booked'" style="background-color: #f8f8f8;">
    <div class="list" style="background-color: #fff;" ng-repeat="reservation in reservationArr">
      <label class="item item-icon-left item-icon-right" style="border:none;">
        <i class="icon ion-ios-home-outline"></i>
        预约楼盘
        <span class="item-note yylp">
          {{reservation.house.house_name}}<sup style="background-color:#e77b6e;color:#fff;padding:0.6em;margin-left:0.5rem;border-radius: 1em;" ng-show="reservation.reservation_status == 2">复看预约</sup>
        </span>
        <button class="button icon ion-ios-arrow-right" style="padding:0;min-width: 8px;background-color: #fff;" ng-click="goToHouse(reservation.house.house_id)"></button>
      </label>

      <div class="item item-icon-left item-icon-right">
        <i class="icon ion-ios-person-outline"></i>
        接待人
        <span ng-show="reservation.agent_id" class="item-note jdr">
          {{reservation.agent.agent_nickname}}
        </span>
        <span ng-show="!reservation.agent_id" class="item-note jdr">
          正在为您安排接待人
        </span>
        <button class="button icon button-clear ion-ios-chatbubble msg" ng-show="reservation.agent_id" style="position:absolute;padding:0;margin:0; min-width:20px;"></button>
      </div>

      <div class="item" style="text-align: right;">
        <button class="button button-small btn" ng-click="cancelBook(reservation.reservation_id)">取消预约</button>
      </div>
    </div>

  </ion-content>
  <!-- 已预约结束 -->



  <!-- 已带看开始 -->
  <ion-content has-header="true" class="has-subheader gzContent" ng-show="active_content=='watched'" style="background-color: #f8f8f8;">
    <div class="list" style="background-color: #fff;" ng-repeat="watched in watchedArr">
      <label class="item item-icon-left item-icon-right" style="border:none;">
        <i class="icon ion-ios-home-outline"></i>
        预约楼盘
        <span class="item-note yylp">
          {{watched.house.house_name}}
        </span>
        <button class="button icon ion-ios-arrow-right" style="padding:0;min-width: 8px;background-color: #fff;" ng-click="goToHouse(watched.house.house_id)"></button>
      </label>

      <div class="item item-icon-left item-icon-right">
        <i class="icon ion-ios-person-outline"></i>
        接待人
        <span ng-show="watched.agent_id" class="item-note jdr">
          {{watched.agent.agent_nickname}}
        </span>
        <button class="button icon button-clear ion-ios-chatbubble msg" ng-show="watched.agent_id" style="position:absolute;padding:0;margin:0; min-width:20px;"></button>
      </div>

      <div class="item" style="text-align: right;">
        <button class="button button-small btn" ng-click="reWatch(watched.customer_id, watched.house_id)"> 复看 </button>
      </div>

    </div>
  </ion-content>
  <!-- 已带看结束 -->

</ion-view>


